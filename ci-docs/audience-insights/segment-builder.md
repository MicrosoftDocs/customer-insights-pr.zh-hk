---
title: 使用客戶細分建立器頁面建立客戶細分
description: 建立客戶的區段，以依據各種屬性來群組。
ms.date: 09/07/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: how-to
author: JimsonChalissery
ms.author: jimsonc
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: e089c475234935742fc42fc3f2bada47711305bf
ms.sourcegitcommit: 5d82e5b808517e0e99fdfdd7e4a4422a5b8ebd5c
ms.translationtype: HT
ms.contentlocale: zh-HK
ms.lasthandoff: 10/11/2021
ms.locfileid: "7623071"
---
# <a name="create-segments"></a>建立客戶細分

對整合客戶實體周圍及相關實體，定義複雜篩選。 每個區段會在處理後建立一組可匯出和採取相應動作的客戶記錄。 區段會在 **區段** 頁面上加以管理。 您可以使用區段 Builder [建立新區段](#create-a-new-segment)，或者從應用程式的其他區域[建立快速區段](#quick-segments)。 

> [!TIP]
> - 快速區段只在 **個別客戶** 的環境中支援。    
> - 以 **個別客戶** 為主的區段自動包括區段成員可用的連絡人資訊。 在 **商務帳戶** 環境中，區段以帳戶 (公司或子公司) 為主。 若要將連絡人資訊納入區段，請使用區段 Builder 的 **專案屬性** 功能。

## <a name="segment-builder"></a>客戶細分建立器

下圖顯示了客戶細分建立器的各個外觀。 這會顯示一個客戶細分，可以產生一個客戶團體。 客戶在特定時間範圍訂購貨物並收集獎勵積分或花費特定金額。 

:::image type="content" source="media/segment-builder-overview.png" alt-text="客戶細分建立器的元素。" lightbox="media/segment-builder-overview.png":::

1. 利用規則和子規則整理您的區段。 每個規則或子規則都由條件組成。 將條件與邏輯操作子相結合

1. 在適用規則的實體之間選擇[關聯路徑](relationships.md)。 關係路徑決定哪些屬性可以在條件中使用。

1. 管理規則和子規則。 更改規則的位置或將其刪除。

1. 新增條件並使用子規則組建正確的巢狀等級。

1. 套用集合作業到連接的規則。

1. 使用屬性窗格新增可用實體屬性或根據屬性建立條件。 窗格會基於選定關聯路徑顯示實體和屬性清單，這些實體和屬性可用於選定規則。

1. 根據屬性新增條件到現行規則和子規則或將其新增到新規則中。

1. 組建區段時復原和重做變更。

上述範例闡釋了客戶細分的功能。 我們把購買 $500 以上的商品 *且* 對軟體發展有興趣的客戶定義成一個客戶細分。

## <a name="create-a-new-segment"></a>建立新區段

有很多方式可以建立新的客戶細分： 本節說明如何從頭開始建立您自己的客戶細分。 您也可以依據現有的實體建立 *快速客戶細分*，或使用機器學習模型來取得 *建議的客戶細分*。 如需詳細資訊，請前往[區段總覽](segments.md)。

建立客戶細分時，您可以儲存草稿。 在草稿階段中，區段會以非使用中的區段儲存。 當您完成區段組態時，請執行它以啟動區段。 或者您可以從 *所有區段* 頁面 **啟動** 某區段。

1. 移至 **區段** 頁。

1. 選取 **新增** > **建立自己的...**。

1. 您可以在區段 Builder 頁面上定義或撰寫規則。 規則包含定義一組客戶的一個或多個條件。

1. 在 **Rule1** 區段中，選取您要用來篩選使客戶的實體屬性。 有兩種方式可選擇屬性： 
   - 在 **新增至規則** 窗格中檢閱可用實體和屬性的清單，並選取屬性旁邊的 **+** 圖示。 選擇是否要將屬性新增至現有規則，或使用它來建立新規則。
   - 在規則區段中輸入屬性的名稱，查看比對建議。

1. 選擇運算子來指定條件的比對值。 屬性的值可以是四種資料類型之一：數字、字串、日期或布林值。 視屬性的資料類型而定，可以使用不同的運算子來指定條件。 含有商務帳戶的區段方面，可使用兩個特殊運算子包括擷取帳戶之間的潛在階層。 請使用運算子的 *子系* 和 *父代* 包括相關帳戶。 

1. 選取 **新增條件**，將更多條件新增至規則。 若要在現在的規則底下建立規則，請選取 **新增子規則**。

1. 如果規則使用的是 *客戶* 實體以外的其他實體，您必須設定關聯路徑。 要通知系統您希望以哪個關聯存取整合客戶實體，關聯路徑是必要的。 選取 **設定關聯路徑**，將選取的實體對應至整合客戶實體。 如果可能的關聯路徑只有一個，系統會自動選取該路徑。 不同的關聯路徑可能會產生不同的結果。 每個規則都可以有自己的關聯路徑。

   :::image type="content" source="media/relationship-path.png" alt-text="根據整合客戶實體對應的實體建立規則時，可能的關聯路徑。":::

   例如，螢幕擷取畫面中的 *eCommerce_eCommercePurchases* 實體具有四個選項來對應 *Customer* 實體： 
   - eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > Customer
   - eCommerce_eCommercePurchases > Customer
   - eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > Customer
   - eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > loyaltyScheme_loyCustomers > Customer 選擇上一個選項時，我們可以從規則條件中所有列出的實體中納入屬性。 我們很可能因為相符的客戶記錄必須是所有實體的一部分而得到較少的結果。 本範例中，他們必須透過在銷售點 (*POS_posPurchases*) 的電子商務 (*eCommerce_eCommercePurchases*) 購物，並參加我們的會員忠誠計畫 (*loyaltyScheme_loyCustomers*)。 選擇第二個選項時，只能從 *eCommerce_eCommercePurchases* 與 *客戶* 實體中選擇屬性。 這可能會導致結果裡有更多的客戶個人資料。

1. 如果規則有多個條件，您可以選擇用哪個邏輯運算子連接它們。  
   - **AND** 運算子：必須符合所有條件，記錄才能被包括在區段中。 當您跨不同實體定義條件時，此選項非常有用。
   - **OR** 運算子：必須符合任一條件，記錄才能被包括在區段中。 當您為相同實體定義多個條件時，此選項非常有用。

   :::image type="content" source="media/segmentation-either-condition.png" alt-text="帶有兩個 AND 條件的規則。":::

   使用 OR 運算子時，所有條件都必須根據關聯路徑中的實體建立。

   - 您可以建立多個規則以建立不同的客戶記錄集。 您可以結合群組以包括商務案例中必要的客戶。 若要建立新規則，請選取 **新增規則**。 具體來說，因為特定關聯路徑而不能被包括在規則中的 And 實體，則必須建立新規則，才能從中選擇屬性 。

      :::image type="content" source="media/segment-rule-grouping.png" alt-text="將新規則新增至客戶細分，然後選擇集合運算子。":::

   - 選取集合運算子中的一個：**Union**、**Intersect** 或 **Except**。

      - **聯集** 會聯合兩個群組。
      - **交集** 會重疊兩個群組。 唯有兩個群組 *共有* 的資料才會在統整群組中保留。
      - **差集** 會結合兩個群組。 唯有 *不與 B 組資料共有* 的 A 組資料才會保留。

1. 根據預設，客戶細分會生成輸出實體，其中包含符合已定義的篩選的所有客戶個人資料屬性。 如果客戶細分依據其他實體而非 *客戶* 實體，您可以將這些實體中的多個屬性新增至輸出實體。 選取 **專案屬性**，以選擇附加至輸出實體的屬性。  

   :::image type="content" source="media/segments-project-attributes.png" alt-text="側邊窗格中選取投影屬性新增至輸出實體的範例。":::
  
   例如：區段以內含購買資料的實體為主，其與 *客戶* 實體相關。 客戶細分會尋找所有在西班牙今年已購買貨物的客戶。 您可以選擇將屬性 (如：商品價格或採購日期) 附加至輸出實體中所有符合的客戶記錄。 此資訊可能有助於分析總支出的季節性關聯性。

   > [!NOTE]
   > - **專案屬性** 只搭配和客戶實體有一對多關聯性的實體。 例如，一個客戶可以有多個訂閱。
   > - 如果您想要預測的屬性距離 *客戶* 實體 (如關聯定義) 有一個以上的中繼段，應在每個組建的區段查詢規則中使用該屬性。 
   > - 如果您想要預測的屬性距離 *客戶* 實體只有一個中繼段，則每個組建的區段查詢規則中毋須存在該屬性。 
   > - 使用集合運算子時，**預測的屬性** 會被做為因素考慮。
   > - 以商務帳戶為主的區段方面，每個帳戶的一個或多個連絡人詳細資料應納入區段，以便允許啟動該區段或匯出到需要連絡人資訊的目的地。

1. 在儲存並執行該客戶細分之前，請選取客戶細分名稱旁邊的 **編輯詳細資料**。 為您的區段提供名稱，並更新對該區段建議的 **輸出實體名稱**。 您也可以在客戶細分中新增描述。

1. 請選取 **執行** 儲存區段、啟動區段，及根據所有規則和條件開始處理您的區段。 否則它將儲存為非使用中的區段。

1. 選取 **返回區段** 以返回 **區段** 頁面。

> [!TIP]
> - 在條件中設定此運算子時，客戶細分建立器無法從實體建議有效值。 您可以移至 **資料** > **實體** 並下載實體資料，以查看可用的值。
> - 根據日期的條件，可讓您在固定日期與浮動日期範圍之間切換。
> - 如果您有多重規則用於區段，您正在編輯的規則旁邊會有一條垂直的藍線。 
> - 您可以將規則和條件移至客戶細分定義中的其他位置。 選取規則或條件旁邊的 [...]，並選擇該規則或條件的移動方式。
> - 指令列中的 **復原** 和 **重做** 控制項會讓您復原變更。

## <a name="quick-segments"></a>快速區段

使用快速客戶細分，您可以快速組建具有單一運算子的簡單客戶細分，更快取得見解。

1. 在 **細分** 頁面上，選取 **新增** > **從...建立**。
   - 選取 **個人資料** 選項，組建基於 *統整客戶實體* 的客戶細分。
   - 請選取 **量值** 選項在您先前建立的量值四周組建區段。
   - 選取 **智慧** 選項，以使用 **預測** 或 **自訂模型** 功能產生的其中一個輸出實體建立區段。

2. 在 **新增快速區段** 對話方塊中，從 **欄位** 下拉式功能表中選取屬性。

3. 系統將提供更多的見解，協助您建立更好的客戶細分。
   - 對於類別欄位，我們會顯示 10 個最高的客戶計數。 選擇 **值** 並選取 **檢閱**。
   - 在數值屬性中，系統會顯示落在每個客戶百分位下的屬性值。 選擇 **運算子** 和 **值**，然後選取 **檢閱**。

4. 系統將為您提供 **估計的區段大小**。 您可以選擇是否要產生您定義的區段，或先重新檢視它以取得不同的區段大小。

    > [!div class="mx-imgBorder"]
    > ![快速客戶細分的名稱與估計。](media/quick-segment-name.png "快速區段的名稱與估計")

5. 提供區段的 **名稱**。 或者，提供 **顯示名稱**。

6. 選取 **儲存** 以建立您的區段。

7. 區段完成處理之後，您可以像您所建立的其他段落一樣來查看它。

## <a name="next-steps"></a>後續步驟

[匯出一個客戶細分](export-destinations.md)，並探索[客戶卡整合](customer-card-add-in.md)，以便在其他應用中使用客戶細分。

[!INCLUDE[footer-include](../includes/footer-banner.md)]

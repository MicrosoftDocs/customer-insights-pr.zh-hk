---
title: 用量值建立器建立新量值
description: 從頭開始建立量值，分析您的業務關鍵計量。
ms.date: 03/25/2022
ms.subservice: audience-insights
ms.topic: conceptual
author: v-wendysmith
ms.author: wameng
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-measure-builder
- customerInsights
ms.openlocfilehash: 6370df0287362a5512a837cdb588f5d20ef03d3b
ms.sourcegitcommit: e129a1fa8b020b6bfb6efc3c53fa9d89e1614ad1
ms.translationtype: HT
ms.contentlocale: zh-HK
ms.lasthandoff: 04/12/2022
ms.locfileid: "8561560"
---
# <a name="use-measure-builder-to-create-measures-from-scratch"></a>用量值產生器從頭開始建立量值

本文說明如何從頭開始建立新的[量值](measures.md)。 量值建立器可讓您使用數學運算子、彙總函數和篩選來定義計算。 與整合 *客戶* 實體相關的實體，其實體屬性可用於建立量值。

在 B 到 C 和 B 到 B 環境中建立的量值，運作方式相同。 不過，如果您的 B 到 B 的環境[使用有階層的客戶](relationships.md#set-up-account-hierarchies)，您可以選擇彙總相關的子客戶的量值。

選擇一組常用和預先定義的量值，您可以快速建立量值。 如需詳細資訊，請參閱[使用範本建立量值](measure-templates.md)。

# <a name="individual-consumers-b-to-c"></a>[個人消費者 (B2C)](#tab/b2c)

建立量值時，可以選擇在個別客戶層級(客戶屬性、客戶量值) 或在業務/組織層級 (業務量值)。 客戶屬性和客戶量值是兩種依客戶追蹤成效的類型。 例如，每個客戶的總消費。 業務量值可讓您依業務追蹤成效。 例如，公司的總營收。

- 客戶屬性：輸出會生成為新屬性，此屬性會在系統生成的 *Customer_Measure* 實體中儲存為新資料行。 重新整理客戶屬性時，*Customer_Measure* 實體中的所有其他客戶屬性會同時重新整理。 此外，客戶屬性會顯示在客戶個人資料卡片中。 在執行或儲存後，就無法將客戶屬性變更為客戶量值。

- 客戶量值：輸出會生成為個別實體，而且您無法在執行或儲存後將其變更為客戶屬性。 客戶個人資料卡片中不會顯示客戶量值。

- 業務量值：輸出會生成為個別實體，並顯示在您的 Customer Insights 環境首頁。

1. 返回 **量值**。

1. 選取 **新增**，然後選擇 **自行建立**。

   :::image type="content" source="media/measure-b2c.png" alt-text="B 到 C 量值的空白設定畫面。" lightbox="media/measure-b2c.png":::

1. 若要追蹤業務層級的效能，請將 **量值類型** 切換為 **業務層級**。 **客戶層級** 預設會選取。 **當業務層級** 自動移除時，**客戶層級** 會自動將 *CustomerId* 屬性新增至維度。

1. 在設定區域中，從 **選取函數** 下拉式功能表中選擇彙總函式。 彙總函式包括：
   - **Sum**
   - **平均值**
   - **計數**
   - **計數唯一**
   - **最大**
   - **Min**
   - **第一個**：提取資料記錄的第一個值
   - **最後一個**：提取新增至資料記錄的最後一個值
   - **ArgMax**：尋找目標函數中提供最大值的資料記錄
   - **ArgMin**：尋找目標函數中提供最小值的資料記錄

1. 選取 **新增屬性** 來選取您要建立此量值所需的資料。

   1. 選取 **屬性** 索引標籤。
   1. 資料實體：選擇實體，其屬性是您想要測量的。
   1. 資料屬性：選擇要在彙總函式中用來計算量值的屬性。 您一次只能選取一個屬性。
   1. 您也可以藉由 **量值** 索引標籤從現有的量值選取資料屬性，或者搜尋實體或量值名稱。
   1. 選取 **新增**，將選取的屬性新增至量值。

1. 若要建立更複雜的量值，您可以新增更多屬性，或在量值函數上使用數學運算子。

1. 若要新增篩選，請在設定區域中選取 **篩選**。 套用篩選後只會使用符合篩選準則的記錄來計算量值。
  
   1. 在 **篩選** 窗格的 **新增屬性** 區段中，選取您要用來建立篩選的屬性。
   1. 設定篩選運算子，為已選取的每個屬性定義篩選。
   1. 選取 **套用**，新增篩選至量值。

1. 選取 **維度** 以選擇更多欄位來新增為量值輸出實體的資料行。

   1. 選取 **編輯維度**，以新增您要用來分組量值的資料屬性。 例如市/鎮或性別。
   > [!TIP]
   > 如果選定 **客戶層級** 作為 **量值類型**，則已新增 *CustomerId* 屬性。 如果您移除屬性，**量值類型** 會切換為 **業務層面**。
   1. 選取 **完成**，新增維度至量值。

1. 如果您的資料中有需要以整數取代的數值，請選取 **規則**。 設定規則，並確定您是選取整數作為取代。 例如，將 *Null* 以 *0* 取代。

1. 如果已對應的資料實體與 *客戶* 實體之間有多個路徑，您必須選擇一個已識別的[實體關聯路徑](relationships.md)。 視所選取的路徑而定，量值結果可能會不同。

   1. 請選取 **關聯路徑** 並選擇應用來找出量值的實體路徑。 如果只有單一路徑指向 *客戶* 實體，就不會顯示此控制項。
   1. 選取 **完成** 以套用至您的選取。

1. 若要對量值新增更多計算，請選取 **新增計算**。 要使用實體進行新的計算，您只能在相同實體路徑進行。 在量值輸出實體中，更多計算將顯示為新的欄。

1. 選取計算上的 **...**，從量值 **複製**、**重新命名** 或 **移除** 計算。

1. 在 **預覽** 區域中，您會看到量值輸出實體的資料架構，其中包括篩選和維度。 預覽會動態反應設定中的變更。

1. 選取無標題量值旁邊的 **編輯詳細資料**。 提供量值的名稱。 或者，將[標籤](work-with-tags-columns.md#manage-tags)新增至量值。

   :::image type="content" source="media/measures_edit_details.png" alt-text="編輯詳細資料對話方塊。":::

1. 選取 **執行**，為設定完成的量值計算結果。 如果您要保留目前的設定稍後執行測量，請選取 **儲存後關閉**。

1. 移至 **量值**，以查看清單中的新建立的量值。

# <a name="business-accounts-b-to-b"></a>[商務帳戶 (B2B)](#tab/b2b)

建立量值時，可以選擇在個別客戶層級(客戶屬性、客戶量值) 或在所有客戶層級 (業務量值)。

- 客戶量值：輸出會生成為個別實體。 客戶個人資料卡片中不會顯示客戶量值。

- 業務量值：輸出會生成為個別實體，並顯示在您的 Customer Insights 環境首頁。

1. 返回 **量值**。

1. 選取 **新增**。

   :::image type="content" source="media/measure-b2b.png" alt-text="B 到 B 量值的空白設定畫面。":::

1. 在設定區域中，從 **選取函數** 下拉式功能表中選擇彙總函式。 彙總函式包括：
   - **Sum**
   - **平均值**
   - **計數**
   - **計數唯一**
   - **最大**
   - **Min**
   - **第一個**：提取資料記錄的第一個值
   - **最後一個**：提取新增至資料記錄的最後一個值

1. 選取 **新增屬性** 來選取您要建立此量值所需的資料。

   1. 選取 **屬性** 索引標籤。
   1. 資料實體：選擇實體，其屬性是您想要測量的。
   1. 資料屬性：選擇要在彙總函式中用來計算量值的屬性。 您一次只能選取一個屬性。
   1. 您也可以藉由 **量值** 索引標籤從現有的量值選取資料屬性，或者搜尋實體或量值名稱。
   1. 選取 **新增**，將選取的屬性新增至量值。

1. 若要建立更複雜的量值，您可以新增更多屬性，或在量值函數上使用數學運算子。

1. 若要新增篩選，請在設定區域中選取 **篩選**。 套用篩選後只會使用符合篩選準則的記錄來計算量值。
  
   1. 在 **篩選** 窗格的 **新增屬性** 區段中，選取您要用來建立篩選的屬性。
   1. 設定篩選運算子，為已選取的每個屬性定義篩選。
   1. 選取 **套用**，新增篩選至量值。

1. 選取 **維度** 以選擇更多欄位來新增為量值輸出實體的資料行。

   1. 選取 **編輯維度**，以新增您要用來分組量值的資料屬性。 例如市/鎮或性別。
      > [!TIP]
      > 如果選定 **客戶層級** 作為 **量值類型**，則已新增 *CustomerId* 屬性。 如果您移除屬性，**量值類型** 會切換到 **業務層面**。
   1. 選取 **完成**，新增維度至量值。

1. 如果您的資料中有需要以整數取代的數值，請選取 **規則**。 設定規則，並確定您是選取整數作為取代。 例如，將 *Null* 以 *0* 取代。

1. 如果您 [使用有階層的帳戶](relationships.md#set-up-account-hierarchies)，您可以使用 **彙總子帳戶** 切換。
   - 如果設為 **關閉**，量值會以帳戶為單位計算。 每個帳戶都有各自的結果。
   - 如果設為 **開啟**，請選取 **編輯**，以根據擷取的階層選擇帳戶階層。 因為它彙總子帳戶，所以量值只產生一個結果。

1. 如果已對應的資料實體與 *客戶* 實體之間有多個路徑，您必須選擇一個已識別的[實體關聯路徑](relationships.md)。 視所選取的路徑而定，量值結果可能會不同。

   1. 請選取 **關聯路徑** 並選擇應用來找出量值的實體路徑。 如果只有單一路徑指向 *客戶* 實體，就不會顯示此控制項。
   1. 選取 **完成** 以套用至您的選取。

1. 選取計算上的 **...**，從量值 **複製**、**重新命名** 或 **移除** 計算。

1. 在 **預覽** 區域中，您會看到量值輸出實體的資料架構，其中包括篩選和維度。 預覽會動態反應設定中的變更。

1. 選取無標題量值旁邊的 **編輯詳細資料**。 提供量值的名稱。 或者，將[標籤](work-with-tags-columns.md#manage-tags)新增至量值。

   :::image type="content" source="media/measures_edit_details.png" alt-text="編輯詳細資料對話方塊。":::

1. 選取 **執行**，為設定完成的量值計算結果。 如果您要保留目前的設定稍後執行測量，請選取 **儲存後關閉**。

1. 移至 **量值**，以查看清單中的新建立的量值。
